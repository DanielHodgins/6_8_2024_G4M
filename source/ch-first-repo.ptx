<?xml version='1.0' encoding='utf-8'?>
<chapter xml:id="ch-first-repo">
    <title>Your First Repository</title>
    <section xml:id="sec-making-an-account">
        <title>Making an account</title>
        <p>
All the features of GitHub we'll be using are available
using a free GitHub account.
        </p>
        <note xml:id="make-github-account">
            <p>
Make a free GitHub account by
visiting <url href="https://github.com/signup"/>.
            </p>
        </note>
        <p>
Many mathematicians are also eligible for GitHub's educator
discount, which provides additional functionality and
computational resources normally only available to
<q>Pro</q> users.
        </p>
<note xml:id="github-education-discount">
        <p>
Visit
<url href="https://education.github.com/" />
while logged into your GitHub account to request an
educator discount, providing <q>Pro</q> features at no cost
to many students, instructors,
and researchers working in schools, colleges, and universties.
        </p>
    </note>
<p>
(You do not need to wait for approval before
continuing to the next section.)
        </p>
    </section>
    <section xml:id="sec-creating-the-repo">
        <title>Creating the repo</title>
        <p>
Once logged in, a new repository can be created by
pressing the <kbd>+</kbd> button in the toolbar,
or visiting <url href="https://github.com/new"/>.
        </p>
        <p>
The repository will need a name, which can be something
like <c>my-first-repo</c> for this tutorial. (GitHub
will also suggest a cute random name like
<c>ubiquitous-space-tribble</c> if you have writer's block.)
        </p>
        <definition xml:id="def-public-private">
                <statement>
                        <p>
Repositories can be <term>public</term> to everyone
on the internet or <term>private</term> to only people you
approved.                          
                        </p>
                </statement>
        </definition>
        <p>
I encourage you to work publicly,
to make it easier to collaborate with the open-source
community <ndash/> I can personally attest to
publishing many garbage repositories on GitHub
(along with my hopefully-useful ones), and no one
has called me out for it yet!
        </p>
        <p>
The last option we'll make sure to select is to
<q>Initialize this repository with:
Add a README file</q>. Then click <q>Create repository</q>.
        </p>
    </section>
    <section xml:id="sec-editing-readme-md">
        <title>Editing README.md</title>
        <p>
While logged into GitHub.com, you have the ability to edit
individual files on your repositories. (If your repository
is public, others can see those files, but cannot edit them
unless you make them a collaborator,
see <xref ref="ch-collaboration"/>.)
        </p>
        <p>
An easy way to edit an individual file is just to click
the pencil icon such as the one that appears on your README.
This file is written in a standard markup language for
communicating rich text online.
        </p>
        <definition xml:id="def-markdown">
                <statement>
                        <p>
<term>Markdown</term> is a markup language that
takes plain text <c>like *this*</c> and renders it
<q>like <em>this</em></q>.
                        </p>
                        <p>
Many Markdown renderers (but not all) feature
<m>\LaTeX</m> support, so you can also type
<c>An equation: $x^2+y^2=z^2$.</c> and have it render
as <q>An equation: <m>x^2+y^2=z^2</m>.</q>
                        </p>
                </statement>
        </definition>
        <p>
Try to edit your file to say something like <q>I'm learning how to
use GitHub!</q>, perhaps adding a link back to this document
using <c>[this markup](https://g4m.clontz.org)</c>. You
can click the Preview tab to see what your README will look like,
and visit sites like <url href="https://www.MarkdownTutorial.com"/> or
<url href="https://www.MarkdownGuide.org"/> to learn
more. GitHub also provides a panel of several formatting options
you can click on.
        </p>
        <p>
When you're happy with your updated README, click the
<q>Commit changes</q> button. This will create a new
<q>commit</q>.
        </p>
        <definition xml:id="def-commit">
                <statement>
                        <p>
A <term>commit</term> represents a new moment in the
history of a repository. Each commit may have
one or more parents
and children, describing how the (non-linear) history
of the project changes through various branches.
                        </p>
                </statement>
        </definition>
        <p>
 You should write a useful commit message
summarizing the work you've done since your last commit
(or perhaps keep the default <q>Update README.md</q>)
Doing this will update the README visible on your repository
homepage on GitHub.com.
        </p>
        <p>
Finally, you might be interested in visiting the <q>Insights</q>
tab for your repository, and specifically the <q>Network</q> page.
It should reveal a graphic similar to <xref ref="fig-git-branches"/>
visualizing the history of you project across all GitHub collaborators.
Right now you don't have any collaborators and just a couple commits,
but keeping in mind this model for your project history will be
useful as we juggle various commits and pushes and syncs and so on
down the line.
        </p>
    </section>
    <section xml:id="sec-using-github-dev">
        <title>Using GitHub.dev</title>
        <p>
Using the GitHub.com interface to author or edit just one file
can be useful (I do this all the time to make quick typo fixes on
my blog), but you will likely be using GitHub to manage
projects that involve editing mulitple files at the same
time, and likely you will have non-text files (such as images)
that you need to include in your work as well.
        </p>
        <p>
One way to quickly be able to manage several files at once is
to use the <url href="https://github.dev">GitHub.dev</url> service
offered by GitHub. Try clicking that link - you should have a
fully-functional VS Code text editor right inside your web browser.
        </p>
        <p>
(This is a good point to suggest that you use an updated version
of Chrome or Firefox when using GitHub. In particular, Safari tends
to show off its rough edges when using advanced web applications like
GitHub.dev, so it's best to choose an alternative.)
        </p>
        <p>
You can create files, edit them, upload images, and do whatever you
like at GitHub.dev. But this isn't your repository - it's just an
example. So, we'll need a way to tell GitHub.dev we want to work on
the repository we just made instead.
        </p>
        <note xml:id="opening-github-dev">
            <p>
There are two very easy ways to access the GitHub.dev service.
The first is to just
change the address of your repository from <c>github.com</c> to
<c>github.dev</c> in your browser. For example, if your repository lives at
<c>https://github.com/YourUserName/YourGreatRepo</c>, you should visit
<c>https://github.dev/YourUserName/YourGreatRepo</c>.
            </p>
            <p>
The other trick is even fancier. When you are visiting
<c>https://github.com/YourUserName/YourGreatRepo</c> in your web browser
and not writing in a text box, press the period (<kbd>.</kbd>) key.
            </p>
        </note>
        <p>
Either way, you should now have a GitHub.dev window where you can manage
all the files of your project. Using the <q>Explorer</q> sidebar, you can create
new files, rename files, move files, upload files, and more. Selecting
a file opens it, and lets you edit it as needed. Your changes are saved
automatically in GitHub.dev, but they won't show up at GitHub.com just yet.
        </p>
    </section>
    <section xml:id="sec-commiting-and-syncing">
        <title>Commiting your Work</title>
        <p>
After you're tried creating/editing/uploading a few files, now it's
time to <em>commit</em> those changes to your repository. The easiest way
to do this is to use the <q>Source Control</q> sidebar. You may have
noticed that a numerical badge appeared by the Source Control icon as you
created, edited, or deleted files. This number represents the number of files
that have been changed in some way since the previous commit. By opening
the Source Control panel, you'll see a list of these files.
        </p>
        <p>
Clicking these
file names not only lets you open the file and edit it further, but you
are shown a useful view of your changes.
        </p>
        <definition xml:id="def-diff">
                <statement>
                        <p>
A <term>diff</term> is a summary of the files, and specific lines of
those files, that have been altered since the previous commit.
                        </p>
                </statement>
        </definition>
        <p>
(This is a good reason to not write in a long
continuous line, but to break lines every 80ish characters or so. That way
you can easily see where exactly a change is made between each commit.)
        </p>
        <p>
The idea is this: edit as you see fit, knowing that your files are being
saved at GitHub.dev and won't be lost if you accidentally refresh your
web browser. However, you'll need to eventually commit those changes to
the repository in order to share your work with anyone else, and to ensure
that the work is preserved in the long term. The Source Control panel
provides a place to write a <q>commit message</q>, a short
phrase or sentence that summarizes the work you've done. (Writer's block?
For now just type <q>learning GitHub.dev</q>.) Then once you click
the <q>Commit and Push</q> button, your work will be logged as a permanent
commit to the repository.
        </p>
        <p>
This is a good point to review your commit history again. You probably
have three commits: the initial commit made when you created the repository,
the <c>README.md</c> update you made using GitHub.com's editing interface,
and this more elaborate GitHub.dev commit involving possibly several files.
To visualize this history, you can go to the Insights/Network page
described earlier, or click on the <q>3 commits</q> link
from your GitHub.com repository
homepage to see a linearization of this history. From there you can click
on each commit to see exactly what has changed from the previous commit across
all files.
        </p>
    </section>
</chapter>